"use strict";

module.exports = {
  up: async (queryInterface, Sequelize) => {
    // Get category IDs
    const categories = await queryInterface.sequelize.query(
      `SELECT id, name FROM categories;`
    );

    const categoryRows = categories[0];
    const categoryMap = {};

    categoryRows.forEach((category) => {
      categoryMap[category.name] = category.id;
    });

    await queryInterface.bulkInsert(
      "products",
      [
        // Generic Medicines
        {
          name: "Paracetamol 500mg",
          brandName: "Biogesic",
          sku: "GEN-PCM-500",
          description: "Pain reliever and fever reducer",
          price: 5.99,
          cost: 2.5,
          expiryDate: new Date("2026-05-01"),
          genericName: "Paracetamol",
          dosage: "500mg",
          form: "Tablet",
          requiresPrescription: false,
          status: "ACTIVE",
          categoryId: categoryMap["Generic Medicines"],
          createdAt: new Date(),
          updatedAt: new Date(),
        },
        {
          name: "Amoxicillin 250mg",
          brandName: "Amoxil",
          sku: "GEN-AMX-250",
          description: "Antibiotic for bacterial infections",
          price: 12.5,
          cost: 5.75,
          expiryDate: new Date("2026-03-15"),
          genericName: "Amoxicillin",
          dosage: "250mg",
          form: "Capsule",
          requiresPrescription: true,
          status: "ACTIVE",
          categoryId: categoryMap["Generic Medicines"],
          createdAt: new Date(),
          updatedAt: new Date(),
        },
        {
          name: "Ibuprofen 400mg",
          brandName: "Generic",
          sku: "GEN-IBU-400",
          description: "Anti-inflammatory pain reliever",
          price: 8.5,
          cost: 4.0,
          expiryDate: new Date("2026-07-20"),
          genericName: "Ibuprofen",
          dosage: "400mg",
          form: "Tablet",
          requiresPrescription: false,
          status: "ACTIVE",
          categoryId: categoryMap["Generic Medicines"],
          createdAt: new Date(),
          updatedAt: new Date(),
        },
        {
          name: "Cetirizine 10mg",
          brandName: "Generic",
          sku: "GEN-CET-10",
          description: "Antihistamine for allergies",
          price: 6.99,
          cost: 3.25,
          expiryDate: new Date("2026-08-15"),
          genericName: "Cetirizine",
          dosage: "10mg",
          form: "Tablet",
          requiresPrescription: false,
          status: "ACTIVE",
          categoryId: categoryMap["Generic Medicines"],
          createdAt: new Date(),
          updatedAt: new Date(),
        },
        {
          name: "Metformin 500mg",
          brandName: "Generic",
          sku: "GEN-MET-500",
          description: "Diabetes medication",
          price: 9.99,
          cost: 4.5,
          expiryDate: new Date("2026-09-30"),
          genericName: "Metformin",
          dosage: "500mg",
          form: "Tablet",
          requiresPrescription: true,
          status: "ACTIVE",
          categoryId: categoryMap["Generic Medicines"],
          createdAt: new Date(),
          updatedAt: new Date(),
        },

        // Branded Medicines
        {
          name: "Tylenol Extra Strength",
          brandName: "Tylenol",
          sku: "BRD-TYL-500",
          description: "Fast pain relief for headaches and fever",
          price: 12.99,
          cost: 6.25,
          expiryDate: new Date("2026-06-20"),
          genericName: "Acetaminophen",
          dosage: "500mg",
          form: "Tablet",
          requiresPrescription: false,
          status: "ACTIVE",
          categoryId: categoryMap["Branded Medicines"],
          createdAt: new Date(),
          updatedAt: new Date(),
        },
        {
          name: "Advil Liquid Gels",
          brandName: "Advil",
          sku: "BRD-ADV-200",
          description: "Fast-acting pain reliever",
          price: 15.99,
          cost: 7.5,
          expiryDate: new Date("2026-04-10"),
          genericName: "Ibuprofen",
          dosage: "200mg",
          form: "Liquid Gel",
          requiresPrescription: false,
          status: "ACTIVE",
          categoryId: categoryMap["Branded Medicines"],
          createdAt: new Date(),
          updatedAt: new Date(),
        },
        {
          name: "Zyrtec 24 Hour",
          brandName: "Zyrtec",
          sku: "BRD-ZYR-10",
          description: "24-hour allergy relief",
          price: 18.99,
          cost: 9.0,
          expiryDate: new Date("2026-05-15"),
          genericName: "Cetirizine",
          dosage: "10mg",
          form: "Tablet",
          requiresPrescription: false,
          status: "ACTIVE",
          categoryId: categoryMap["Branded Medicines"],
          createdAt: new Date(),
          updatedAt: new Date(),
        },
        {
          name: "Nexium 40mg",
          brandName: "Nexium",
          sku: "BRD-NEX-40",
          description: "Treats acid reflux and heartburn",
          price: 32.99,
          cost: 16.5,
          expiryDate: new Date("2026-07-01"),
          genericName: "Esomeprazole",
          dosage: "40mg",
          form: "Capsule",
          requiresPrescription: true,
          status: "ACTIVE",
          categoryId: categoryMap["Branded Medicines"],
          createdAt: new Date(),
          updatedAt: new Date(),
        },
        {
          name: "Lipitor 20mg",
          brandName: "Lipitor",
          sku: "BRD-LIP-20",
          description: "Cholesterol medication",
          price: 45.99,
          cost: 22.75,
          expiryDate: new Date("2026-08-20"),
          genericName: "Atorvastatin",
          dosage: "20mg",
          form: "Tablet",
          requiresPrescription: true,
          status: "ACTIVE",
          categoryId: categoryMap["Branded Medicines"],
          createdAt: new Date(),
          updatedAt: new Date(),
        },

        // Milk Products
        {
          name: "Enfamil Premium Infant Formula",
          brandName: "Enfamil",
          sku: "MLK-ENF-400",
          description: "Milk-based infant formula for 0-12 months",
          price: 29.99,
          cost: 15.25,
          expiryDate: new Date("2026-02-28"),
          dosage: "400g",
          form: "Powder",
          requiresPrescription: false,
          status: "ACTIVE",
          categoryId: categoryMap["Milk Products"],
          createdAt: new Date(),
          updatedAt: new Date(),
        },
        {
          name: "Ensure Plus Vanilla",
          brandName: "Ensure",
          sku: "MLK-ENS-237",
          description: "Nutritional supplement for adults",
          price: 24.99,
          cost: 12.75,
          expiryDate: new Date("2026-01-15"),
          dosage: "237ml",
          form: "Liquid",
          requiresPrescription: false,
          status: "ACTIVE",
          categoryId: categoryMap["Milk Products"],
          createdAt: new Date(),
          updatedAt: new Date(),
        },
        {
          name: "Similac Advance",
          brandName: "Similac",
          sku: "MLK-SIM-400",
          description: "Infant formula with OptiGRO",
          price: 28.99,
          cost: 14.5,
          expiryDate: new Date("2026-03-31"),
          dosage: "400g",
          form: "Powder",
          requiresPrescription: false,
          status: "ACTIVE",
          categoryId: categoryMap["Milk Products"],
          createdAt: new Date(),
          updatedAt: new Date(),
        },
        {
          name: "Boost Original",
          brandName: "Boost",
          sku: "MLK-BST-237",
          description: "High protein nutritional drink",
          price: 22.99,
          cost: 11.5,
          expiryDate: new Date("2026-02-20"),
          dosage: "237ml",
          form: "Liquid",
          requiresPrescription: false,
          status: "ACTIVE",
          categoryId: categoryMap["Milk Products"],
          createdAt: new Date(),
          updatedAt: new Date(),
        },
        {
          name: "Pediasure Vanilla",
          brandName: "Pediasure",
          sku: "MLK-PED-237",
          description: "Complete nutrition for kids",
          price: 26.99,
          cost: 13.5,
          expiryDate: new Date("2026-04-15"),
          dosage: "237ml",
          form: "Liquid",
          requiresPrescription: false,
          status: "ACTIVE",
          categoryId: categoryMap["Milk Products"],
          createdAt: new Date(),
          updatedAt: new Date(),
        },

        // Vitamins & Supplements
        {
          name: "Vitamin C 1000mg",
          brandName: "Nature Made",
          sku: "VIT-VTC-1000",
          description: "Immune support supplement",
          price: 14.99,
          cost: 7.25,
          expiryDate: new Date("2027-01-01"),
          genericName: "Ascorbic Acid",
          dosage: "1000mg",
          form: "Tablet",
          requiresPrescription: false,
          status: "ACTIVE",
          categoryId: categoryMap["Vitamins & Supplements"] || categoryMap["Others"],
          createdAt: new Date(),
          updatedAt: new Date(),
        },
        {
          name: "Multivitamin Complex",
          brandName: "Centrum",
          sku: "VIT-MLT-001",
          description: "Complete daily multivitamin",
          price: 19.99,
          cost: 10.0,
          expiryDate: new Date("2027-02-15"),
          dosage: "1 tablet",
          form: "Tablet",
          requiresPrescription: false,
          status: "ACTIVE",
          categoryId: categoryMap["Vitamins & Supplements"] || categoryMap["Others"],
          createdAt: new Date(),
          updatedAt: new Date(),
        },
        {
          name: "Vitamin D3 2000 IU",
          brandName: "Nature Made",
          sku: "VIT-VTD-2000",
          description: "Bone and immune health support",
          price: 12.99,
          cost: 6.5,
          expiryDate: new Date("2027-03-01"),
          genericName: "Cholecalciferol",
          dosage: "2000 IU",
          form: "Softgel",
          requiresPrescription: false,
          status: "ACTIVE",
          categoryId: categoryMap["Vitamins & Supplements"] || categoryMap["Others"],
          createdAt: new Date(),
          updatedAt: new Date(),
        },

        // Others
        {
          name: "Digital Thermometer",
          brandName: "HealthPro",
          sku: "OTH-THM-001",
          description: "Digital thermometer for body temperature measurement",
          price: 19.99,
          cost: 9.5,
          requiresPrescription: false,
          status: "ACTIVE",
          categoryId: categoryMap["Others"],
          createdAt: new Date(),
          updatedAt: new Date(),
        },
        {
          name: "First Aid Kit",
          brandName: "SafetyFirst",
          sku: "OTH-FAK-001",
          description: "Basic first aid supplies for home use",
          price: 32.99,
          cost: 18.0,
          requiresPrescription: false,
          status: "ACTIVE",
          categoryId: categoryMap["Others"],
          createdAt: new Date(),
          updatedAt: new Date(),
        },
        {
          name: "Blood Pressure Monitor",
          brandName: "Omron",
          sku: "OTH-BPM-001",
          description: "Digital blood pressure monitoring device",
          price: 49.99,
          cost: 25.0,
          requiresPrescription: false,
          status: "ACTIVE",
          categoryId: categoryMap["Others"],
          createdAt: new Date(),
          updatedAt: new Date(),
        },
        {
          name: "Glucose Meter Kit",
          brandName: "OneTouch",
          sku: "OTH-GLU-001",
          description: "Blood glucose monitoring system",
          price: 39.99,
          cost: 20.0,
          requiresPrescription: false,
          status: "ACTIVE",
          categoryId: categoryMap["Others"],
          createdAt: new Date(),
          updatedAt: new Date(),
        },
        {
          name: "N95 Face Masks (Box of 20)",
          brandName: "3M",
          sku: "OTH-MSK-N95",
          description: "Respiratory protection face masks",
          price: 24.99,
          cost: 12.5,
          requiresPrescription: false,
          status: "ACTIVE",
          categoryId: categoryMap["Others"],
          createdAt: new Date(),
          updatedAt: new Date(),
        },
        {
          name: "Hand Sanitizer 500ml",
          brandName: "Purell",
          sku: "OTH-SAN-500",
          description: "Alcohol-based hand sanitizer",
          price: 8.99,
          cost: 4.5,
          requiresPrescription: false,
          status: "ACTIVE",
          categoryId: categoryMap["Others"],
          createdAt: new Date(),
          updatedAt: new Date(),
        },
      ],
      {}
    );
  },

  down: async (queryInterface, Sequelize) => {
    await queryInterface.bulkDelete("products", null, {});
  },
};